webpackJsonp([6],{"ZBS/":function(e,t){},yUal:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Ea+1"),o=n("YaEn"),s={name:"",props:{},data:function(){return{currentRole:null,roleList:[],currentMenuList:[]}},computed:{menuList:function(){var e=[];return o.a.options.routes.forEach(function(t){t.meta&&t.meta.authId&&e.push({id:t.meta.authId,title:t.meta.title})}),e}},created:function(){this.getRoleList()},methods:{getRoleList:function(){var e=this;r.a.config.getRoles().then(function(t){var n=t.data;e.roleList=n&&n.data||[]}).catch(function(){return message.error("获取用户列表,请刷新重试~")})},onRoleChange:function(){},onSubmit:function(){var e=this;console.log(this.currentMenuList),this.currentRole&&r.a.config.setMenus({menuIds:this.currentMenuList,roleId:this.currentRole}).then(function(){e.$message({message:"配置成功",type:"success",center:!0})}).catch(function(){return message.error("配置失败,请刷新重试~")})}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth-config-wrap"},[n("div",{staticClass:"config-item"},[n("span",{staticClass:"text"},[e._v("角色权限配置:")]),n("el-select",{attrs:{placeholder:"选择角色..."},on:{change:function(t){e.onRoleChange()}},model:{value:e.currentRole,callback:function(t){e.currentRole=t},expression:"currentRole"}},e._l(e.roleList,function(e,t){return n("el-option",{key:e.index,attrs:{label:e.roleName,value:e.id}})})),n("div",{staticClass:"select"},[n("el-checkbox-group",{model:{value:e.currentMenuList,callback:function(t){e.currentMenuList=t},expression:"currentMenuList"}},e._l(e.menuList,function(t,r){return n("el-checkbox",{key:r,attrs:{label:t.id}},[e._v(e._s(t.title))])}))],1),n("el-button",{attrs:{type:"primary",disabled:!e.currentRole},on:{click:function(t){e.onSubmit()}}},[e._v("提交")])],1)])},staticRenderFns:[]};var a=n("VU/8")(s,c,!1,function(e){n("ZBS/")},"data-v-1c28e90a",null);t.default=a.exports}});
//# sourceMappingURL=6.be63a007b84ad141ceaa.js.map